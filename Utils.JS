// 驻拽爪转 注专
const utils = {
    // 专 拽专转 砖拽转
    weightedRandom(items, weights) {
        const total = weights.reduce((a, b) => a + b, 0);
        let random = Math.random() * total;
        
        for (let i = 0; i < items.length; i++) {
            if (random < weights[i]) return items[i];
            random -= weights[i];
        }
        return items[0];
    },

    // 拽转  注爪
    getFormattedTime() {
        return new Date().toLocaleTimeString('he-IL');
    },

    // 砖 专拽  砖转 拽转
    calculateDistance(x1, y1, x2, y2) {
        const dx = x2 - x1;
        const dy = y2 - y1;
        return Math.sqrt(dx * dx + dy * dy);
    },

    // 砖 转
    calculateAngle(x1, y1, x2, y2) {
        const dx = x2 - x1;
        const dy = y2 - y1;
        return Math.atan2(dy, dx) * 180 / Math.PI;
    },

    // 拽转 转 专
    getRankMedal(index) {
        const medals = ['', '', ''];
        return medals[index] || (index + 1);
    },

    // 拽转 转拽转 住驻专
    isValidIndex(index, min, max) {
        return !isNaN(index) && index >= min && index < max;
    },

    // 爪专转 驻转  砖转转祝
    getParticipantKey(country, index, isCivilWar) {
        return isCivilWar ? `${country}-住注-${index + 1}` : country;
    },

    // 拽转 砖 转爪 砖转转祝
    getDisplayName(participantKey, isCivilWar) {
        return participantKey;
    }
};